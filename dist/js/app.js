"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var FeedbackWidget=function(){function e(t){_classCallCheck(this,e),this._elementId=t}return _createClass(e,[{key:"elementId",get:function(){return this._elementId}},{key:"show",value:function(e,t,n){"succes"==n?($(e).removeClass("feedback-danger"),$(e).addClass("feedback-succes")):($(e).removeClass("feedback-succes"),$(e).addClass("feedback-danger")),$(e).attr("style","display:block"),$(e).text(t),$(e).append('<button class="feedback-button"> Akkoord </button>'),$(e).css("opacity",1),this.log({message:t,type:n})}},{key:"hide",value:function(e){$(e).css("opacity",0)}},{key:"log",value:function(e){var t=JSON.parse(localStorage.getItem("feedback-widget"))||[];10==t.length&&t.shift(),t.push(e),localStorage.setItem("feedback-widget",JSON.stringify(t))}},{key:"removeLog",value:function(){localStorage.removeItem("feedback-widget")}},{key:"history",value:function(){var e=JSON.parse(localStorage.getItem("feedback-widget"))||[];$(e).each(function(e,t){document.getElementById("history").innerHTML+="type "+t.type+" - "+t.message+"<br>"})}}]),e}();$(document).ready(function(){widgetControl=new FeedbackWidget("control"),$("#showSucces").on("click",function(){console.log("showSucces"),widgetControl.show("#feedback","succes getoond","succes")}),$("#showDanger").on("click",function(){console.log("showDanger"),widgetControl.show("#feedback","danger getoond","danger")}),$("#changeSuccesText").on("click",function(){console.log("changeSuccesText"),widgetControl.show("#feedback","Tekst veranderd","succes")}),$("#hideWidget").on("click",function(){console.log("hideWidget"),widgetControl.hide("#feedback")})});var Game=function(e){var t={apiUrl:e};return{init:function(){console.log(t.apiUrl)}}}("/api/url");Game.Reversi=function(){return color="white",placeFiche=function(e,t){console.log(color),square=$("#square".concat(e,"_").concat(t)).find("span"),squareOccupied=square.hasClass("whitePiece")||square.hasClass("blackPiece"),squareOccupied||(console.log("".concat(color," piece geplaatst op: ").concat(e,", ").concat(t)),"white"!==color||square.hasClass("whitePiece")?"black"===color&&(color="white",square.addClass("blackPiece")):(color="black",square.addClass("whitePiece")))},{placeFiche:placeFiche}}(),Game.Data=function(){dataInit=function(e){if(t.environment=e,"development"==e)return n();if("production"==e)return o("api/Spel/Beurt");throw new Error("Environment "+e+" is niet geldig!")};var e={mock:[{url:"api/Spel/Beurt",data:0}]},t={environment:"development"},n=function(){var t=e.mock;return new Promise(function(e,n){e(t)})},o=function(e){return $.get(e).then(function(e){return e}).catch(function(e){console.log(e.message)})};return{init:dataInit,get:o}}(),Game.Model=function(){console.log("hallo, vanuit module Model");var e;privateInit=function(){n(),console.log("dit is de private functie")};var t=function(){var e=Game.Data.get("/api/Spel/Beurt/<token>");if(0==e||1==e||2==e)return e;throw new Error("Game state is niet goed ontvangen!")},n=function(){console.log("oke"),e=setInterval(t,2e3)};return{init:privateInit,getGameState:t}}();